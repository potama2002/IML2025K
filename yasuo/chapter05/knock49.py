# 49
# トークン数を計算する
text = """吾輩は猫である。名前はまだ無い。
どこで生れたかとんと見当がつかぬ。何でも薄暗いじめじめした所でニャーニャー泣いていた事だけは記憶している。吾輩はここで始めて人間というものを見た。しかもあとで聞くとそれは書生という人間中で一番獰悪な種族であったそうだ。この書生というのは時々我々を捕えて煮て食うという話である。しかしその当時は何という考もなかったから別段恐しいとも思わなかった。ただ彼の掌に載せられてスーと持ち上げられた時何だかフワフワした感じがあったばかりである。掌の上で少し落ちついて書生の顔を見たのがいわゆる人間というものの見始であろう。この時妙なものだと思った感じが今でも残っている。第一毛をもって装飾されべきはずの顔がつるつるしてまるで薬缶だ。その後猫にもだいぶ逢ったがこんな片輪には一度も出会わした事がない。のみならず顔の真中があまりに突起している。そうしてその穴の中から時々ぷうぷうと煙を吹く。どうも咽せぽくて実に弱った。これが人間の飲む煙草というものである事はようやくこの頃知った。"""

# トークナイザーを使ってエンコード
encoded = tokenizer.encode(text)

# トークン数をカウント
token_count = len(encoded)

print(f"トークン数: {token_count}")

# トークンの内容を表示（オプション）
decoded_tokens = [tokenizer.decode([token_id]) for token_id in encoded]
print("\nトークンの内容:")
for i, token in enumerate(decoded_tokens):
    print(f"{i+1}: '{token}'")

print(f"合計トークン数：{len(decoded_tokens)}")

"""
トークン数: 323

トークンの内容:
1: '<|begin_of_text|>'
2: '吾'
3: '�'
4: '�'
5: 'は'
6: '猫'
7: 'である'
8: '。'
9: '名前'
10: 'は'
11: 'まだ'
12: '無'
13: 'い'
14: '。
'
15: 'どこ'
16: 'で'
17: '生'
18: 'れた'
19: 'か'
20: 'と'
21: 'んと'
22: '見'
23: '当'
24: 'が'
25: 'つ'
26: 'か'
27: 'ぬ'
28: '。'
29: '何'
30: 'でも'
31: '薄'
32: '暗'
33: 'い'
34: 'じ'
35: 'め'
36: 'じ'
37: 'め'
38: 'した'
39: '所'
40: 'で'
41: 'ニ'
42: 'ャ'
43: 'ーニ'
44: 'ャ'
45: 'ー'
46: '泣'
47: 'い'
48: 'ていた'
49: '事'
50: 'だけ'
51: 'は'
52: '記'
53: '憶'
54: 'している'
55: '。'
56: '吾'
57: '�'
58: '�'
59: 'は'
60: 'ここ'
61: 'で'
62: '始'
63: 'めて'
64: '人間'
65: 'という'
66: 'もの'
67: 'を見'
68: 'た'
69: '。'
70: 'しか'
71: 'も'
72: 'あ'
73: 'と'
74: 'で'
75: '聞'
76: 'くと'
77: 'それは'
78: '書'
79: '生'
80: 'という'
81: '人間'
82: '中'
83: 'で'
84: '一'
85: '番'
86: '�'
87: '��'
88: '悪'
89: 'な'
90: '種'
91: '族'
92: 'であった'
93: 'そう'
94: 'だ'
95: '。この'
96: '書'
97: '生'
98: 'という'
99: 'のは'
100: '時'
101: '々'
102: '我'
103: '々'
104: 'を'
105: '捕'
106: 'えて'
107: '�'
108: '�'
109: 'て'
110: '食'
111: 'う'
112: 'という'
113: '話'
114: 'である'
115: '。'
116: 'しか'
117: 'し�'
118: '�'
119: 'の'
120: '当'
121: '時'
122: 'は'
123: '何'
124: 'という'
125: '考'
126: 'も'
127: 'なかった'
128: 'から'
129: '別'
130: '段'
131: '恐'
132: 'しい'
133: 'とも'
134: '思'
135: 'わ'
136: 'なかった'
137: '。'
138: 'ただ'
139: '彼'
140: 'の'
141: '掌'
142: 'に'
143: '載'
144: 'せ'
145: 'られて'
146: 'ス'
147: 'ー'
148: 'と'
149: '持ち'
150: '上げ'
151: 'られた'
152: '時'
153: '何'
154: 'だ'
155: 'か'
156: 'フ'
157: 'ワ'
158: 'フ'
159: 'ワ'
160: 'した'
161: '感じ'
162: 'があった'
163: 'ばかり'
164: 'である'
165: '。'
166: '掌'
167: 'の上'
168: 'で'
169: '少し'
170: '落ち'
171: 'つ'
172: 'いて'
173: '書'
174: '生'
175: 'の'
176: '顔'
177: 'を見'
178: 'た'
179: 'のが'
180: 'い'
181: 'わ'
182: 'ゆ'
183: 'る'
184: '人間'
185: 'という'
186: 'もの'
187: 'の'
188: '見'
189: '始'
190: 'であ'
191: 'ろう'
192: '。この'
193: '時'
194: '妙'
195: 'な'
196: 'もの'
197: 'だ'
198: 'と思'
199: 'った'
200: '感じ'
201: 'が'
202: '今'
203: 'でも'
204: '残'
205: 'っている'
206: '。'
207: '第一'
208: '毛'
209: 'を'
210: 'も'
211: 'って'
212: '装'
213: '飾'
214: 'され'
215: 'べき'
216: 'はず'
217: 'の'
218: '顔'
219: 'が'
220: 'つ'
221: 'る'
222: 'つ'
223: 'る'
224: 'して'
225: 'まる'
226: 'で'
227: '薬'
228: '�'
229: '�'
230: 'だ'
231: '。その'
232: '後'
233: '猫'
234: 'にも'
235: 'だ'
236: 'い'
237: 'ぶ'
238: '�'
239: '�'
240: 'った'
241: 'が'
242: 'こんな'
243: '片'
244: '輪'
245: 'には'
246: '一度'
247: 'も'
248: '出'
249: '会'
250: 'わ'
251: 'した'
252: '事'
253: 'がない'
254: '。'
255: 'のみ'
256: 'なら'
257: 'ず'
258: '顔'
259: 'の'
260: '真'
261: '中'
262: 'が'
263: 'あ'
264: 'まり'
265: 'に'
266: '突'
267: '起'
268: 'している'
269: '。'
270: 'そう'
271: 'して'
272: 'その'
273: '穴'
274: 'の中'
275: 'から'
276: '時'
277: '々'
278: '�'
279: '�'
280: 'う'
281: '�'
282: '�'
283: 'う'
284: 'と'
285: '煙'
286: 'を'
287: '吹'
288: 'く'
289: '。'
290: 'どう'
291: 'も'
292: '�'
293: '�'
294: 'せ'
295: '�'
296: '�'
297: 'く'
298: 'て'
299: '実'
300: 'に'
301: '弱'
302: 'った'
303: '。これ'
304: 'が'
305: '人間'
306: 'の'
307: '飲'
308: 'む'
309: '煙'
310: '草'
311: 'という'
312: 'もの'
313: 'である'
314: '事'
315: 'は'
316: 'よう'
317: 'や'
318: 'く'
319: 'この'
320: '頃'
321: '知'
322: 'った'
323: '。'
合計トークン数：323"""
